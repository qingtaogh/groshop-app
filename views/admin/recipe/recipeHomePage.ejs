<%- include('../../partials/header.ejs') %>

<body>
<%- include('../../partials/navbar-admin.ejs') %>
<script type="text/javascript">
    function onDelete(id) {
        if (confirm("Are you sure you want to delete this recipe?")) {
            var deleteUrl = `/admin/recipes/${id}/delete`
            document.getElementById("deleteRecipeForm").action = deleteUrl
            document.getElementById("deleteRecipeForm").submit();
        }
    }
</script>
<div id="admin-home-page">
    <div class="container justify-content-center">
        <br>
        <%- include('../../partials/alerts.ejs') %>
        <center><h1>All Recipes</h1></center>
        <div class="row justify-content-md-center">
            <div class="col-md-8 col-md-offset-2">
                <a href="/admin/recipes/create" class="btn btn-primary"><i class="fa-solid fa-circle-plus"></i>&nbsp;&nbsp;Add Recipe</a>
            </div>
        </div>
        <br>
        <div class="row justify-content-md-center">
            <div class="card col-md-8 col-md-offset-2">
                <div class="card-body">
                    <form id="searchRecipeForm" action="/admin/recipes/search" method="GET">
                        <div class="mb-1 row">
                            <label for="name" class="col-sm-4 col-form-label">Search by Name: </label>
                            <div class="col-sm-6">
                                <input type="text" class="form-control" name="name" id="name">
                            </div>
                        </div>
                        <div class="mb-1 row">
                            <label for="cuisine" class="col-sm-4 col-form-label">Search by Cuisine: </label>
                            <div class="col-sm-4">
                                <select id="cuisine" class="form-select form-control" name="cuisine">
                                    <option value=""></option>
                                    <option value="Local">Local</option>
                                    <option value="Chinese">Chinese</option>
                                    <option value="Malay">Malay</option>
                                    <option value="Indian">Indian</option>
                                    <option value="Thai">Thai</option>
                                    <option value="Western">Western</option>
                                    <option value="Italian">Italian</option>
                                    <option value="Indonesian">Indonesian</option>
                                    <option value="Japanese">Japanese</option>
                                    <option value="Korean">Korean</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-1 row">
                            <label for="difficulty" class="col-sm-4 col-form-label">Search by Difficulty: </label>
                            <div class="col-sm-6">
                                <input type="number" class="form-control" name="difficulty" id="difficulty" min="1" max="5">
                            </div>
                        </div>
                        <div class="mb-1 row">
                            <label for="servingSize" class="col-sm-4 col-form-label">Search by Serving Size: </label>
                            <div class="col-sm-6">
                                <input type="number" class="form-control" name="servingSize" id="servingSize" min="1" max="100">
                            </div>
                        </div>
                        <button class="btn btn-primary" type="submit">Search</button>
                    </form>                    
                </div>
            </div>
        </div>
        <%- include('recipes.ejs') %>
        <%- include('../../partials/pagination.ejs') %>  
    </div>
</div>
</body>

<%- include('../../partials/footer.ejs') %>
